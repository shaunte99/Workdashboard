<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Poppie's Professional Dashboard — Events</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles/styles.css">
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">PW</div>
        <div>
          <div class="brand-title">Poppie's Dashboard</div>
          <div class="brand-sub">Operations & Events</div>
        </div>
      </div>

      <nav class="menu">
        <button class="menu-btn active" data-view="overview">Overview</button>
        <button class="menu-btn" data-view="workers">Workers</button>
        <button class="menu-btn" data-view="tasks">Tasks</button>
        <button class="menu-btn" data-view="events">Events</button>
        <button class="menu-btn" data-view="orders">Orders</button>
        <button class="menu-btn" data-view="reports">Reports</button>
      </nav>

      <div class="sidebar-foot">
        <button id="exportCsv" class="secondary">Export CSV</button>
        <button id="resetData" class="danger">Reset</button>
        <small class="note">Local prototype. Ready for Google Sheets integration.</small>
      </div>
    </aside>

    <main class="main">
  <header class="topbar">
    <div class="topbar-left">
      <button id="menuToggle" class="hamburger">☰</button>
      <div class="topbar-text">
        <h1>Operations & Events</h1>
        <p class="muted">Accurate hours • Events pipeline • Financials • Orders</p>
      </div>
    </div>
    <div class="user-meta">
      <div class="user-name">Poppie — Manager</div>
      <div class="user-role muted">Internal use</div>
    </div>
  </header>

      <!-- overview -->
      <section id="view-overview" class="view visible">
        <div class="grid">
          <div class="card">
            <div class="card-head">
              <h3>Poppie's Time</h3>
              <small class="muted">Personal hours for reporting</small>
            </div>
            <div class="card-body">
              <div class="clock-controls">
                <button id="poppieClockIn" class="primary small">Clock In</button>
                <button id="poppieClockOut" class="ghost small">Clock Out</button>
                <div class="status" id="poppieStatus">Status: <span id="poppieStatusText">OUT</span></div>
              </div>
              <div class="log-wrap">
                <table class="log-table">
                  <thead><tr><th>Date</th><th>In</th><th>Out</th><th>Hours</th></tr></thead>
                  <tbody id="poppieLog"></tbody>
                </table>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-head">
              <h3>Workers Summary</h3>
              <small class="muted">Today & Week at a glance</small>
            </div>
            <div class="card-body">
              <div class="summary-row">
                <div class="summary-item">
                  <div class="label muted">Total Hours Today</div>
                  <div id="totalToday" class="big">—</div>
                </div>
                <div class="summary-item">
                  <div class="label muted">Total Hours This Week</div>
                  <div id="totalWeek" class="big">—</div>
                </div>
                <div class="summary-item">
                  <div class="label muted">Active Workers</div>
                  <div id="workerCount" class="big">—</div>
                </div>
              </div>

              <div class="mini-actions">
                <button id="addWorkerBtn" class="secondary">+ Add Worker</button>
                <button id="compactReport" class="ghost">Compact Report</button>
              </div>
            </div>
          </div>

          <div class="card card-wide">
            <div class="card-head">
              <h3>Task Progress</h3>
              <small class="muted">Daily tasks and completion rate</small>
            </div>
            <div class="card-body">
              <div class="task-controls">
                <input id="taskText" placeholder="Create new task for today" />
                <select id="taskScope">
                  <option value="today">Today</option>
                  <option value="week">This Week</option>
                </select>
                <button id="addTask" class="primary small">Add</button>
              </div>

              <div class="task-grid">
                <div class="task-list-wrap">
                  <h4>Today's Tasks <span id="taskCount" class="muted"></span></h4>
                  <ul id="taskList" class="task-list"></ul>
                </div>

                <div class="task-progress">
                  <h4>Progress</h4>
                  <div class="progress-outer">
                    <div id="progressFill" class="progress-fill"></div>
                  </div>
                  <div class="progress-meta muted" id="progressMeta">0 / 0 tasks • 0%</div>

                  <div class="task-actions">
                    <button id="clearCompleted" class="ghost small">Clear Completed</button>
                    <button id="markAllDone" class="secondary small">Mark All Done</button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="card card-wide">
            <div class="card-head">
              <h3>Events Pipeline</h3>
              <small class="muted">Create events, set status, budgets, and link tasks/orders</small>
            </div>
            <div class="card-body">
              <div class="event-controls">
                <input id="evtTitle" placeholder="Event title (Client / Short name)" />
                <select id="evtType">
                  <option value="Wedding">Wedding</option>
                  <option value="Birthday">Birthday</option>
                  <option value="Corporate">Corporate</option>
                  <option value="Other">Other</option>
                </select>
                <input id="evtDate" type="date" />
                <input id="evtBudget" type="number" placeholder="Budget (R)" />
                <select id="evtStatus">
                  <option>Inquiry</option><option>Quoting</option><option>Confirmed</option>
                  <option>Planning</option><option>Completed</option>
                </select>
                <button id="addEvent" class="primary small">Add Event</button>
              </div>

              <div class="events-table-wrap">
                <table class="log-table">
                  <thead><tr><th>Event</th><th>Type</th><th>Date</th><th>Status</th><th>Budget</th><th>Cost</th><th>Profit</th><th>Actions</th></tr></thead>
                  <tbody id="eventsTbody"></tbody>
                </table>
              </div>
            </div>
          </div>

        </div> <!-- end grid -->
      </section>

      <!-- Workers detail view -->
      <section id="view-workers" class="view">
        <div class="panel-wrap">
          <h2>Workers Management</h2>
          <p class="muted">Add, remove, or rename workers. Clock in/out from the main grid.</p>
          <div class="workers-edit">
            <button id="addWorkerBtn2" class="primary small">+ Add Worker</button>
            <button id="removeEmpty" class="ghost small">Remove Empty Names</button>
          </div>

          <div class="workers-edit-table">
            <table class="workers-table">
              <thead><tr><th>Worker</th><th>Actions</th></tr></thead>
              <tbody id="workersManage"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Tasks view -->
      <section id="view-tasks" class="view">
        <div class="panel-wrap">
          <h2>Task Manager</h2>
          <p class="muted">Tasks across events and personal tasks.</p>

          <div class="full-task-grid">
            <div>
              <h4>All Tasks</h4>
              <ul id="allTasks" class="task-list"></ul>
            </div>
            <div>
              <h4>Event Tasks</h4>
              <div id="eventTasksContainer" class="muted">Select an event from Events view to see linked tasks</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Events view -->
      <section id="view-events" class="view">
        <div class="panel-wrap">
          <h2>Events & Financials</h2>
          <p class="muted">Manage events, budgets, costs, and see profit/loss</p>

          <div class="events-panel">
            <div class="left-col">
              <h4>Events List</h4>
              <table class="log-table">
                <thead><tr><th>Event</th><th>Type</th><th>Date</th><th>Status</th><th>Budget</th><th>Cost</th><th>Profit</th><th>Actions</th></tr></thead>
                <tbody id="eventsManageTbody"></tbody>
              </table>
            </div>

            <div class="right-col">
              <h4>Selected Event</h4>
              <div id="selectedEventPanel" class="card small-card muted">Select an event to edit tasks, orders, and financials</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Orders view -->
      <section id="view-orders" class="view">
        <div class="panel-wrap">
          <h2>Orders & Inventory</h2>
          <p class="muted">Track items ordered per event, supplier, cost, delivery status</p>

          <div class="orders-panel">
            <div class="orders-controls">
              <select id="orderEventSelect"><option value="">— Select Event —</option></select>
              <input id="orderItem" placeholder="Item name" />
              <input id="orderSupplier" placeholder="Supplier" />
              <input id="orderCost" type="number" placeholder="Cost (R)" />
              <select id="orderStatus"><option>Pending</option><option>Ordered</option><option>Delivered</option></select>
              <button id="addOrderBtn" class="primary small">Add Order</button>
            </div>

            <div class="orders-table-wrap">
              <table class="log-table">
                <thead><tr><th>Event</th><th>Item</th><th>Supplier</th><th>Cost</th><th>Status</th><th>Actions</th></tr></thead>
                <tbody id="ordersTbody"></tbody>
              </table>
            </div>

            <div class="orders-summary">
              <h4>Order Progress</h4>
              <div class="progress-outer"><div id="ordersProgressFill" class="progress-fill"></div></div>
              <div id="ordersProgressMeta" class="muted">0 / 0 delivered</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Reports view -->
      <section id="view-reports" class="view">
        <div class="panel-wrap">
          <h2>Reports</h2>
          <p class="muted">Export or view compact reports</p>
          <div id="reportContent" class="muted">Use Export CSV on the sidebar to get raw logs. Event financial summaries below.</div>
          <div id="eventFinancialSummary" class="muted" style="margin-top:12px"></div>
        </div>
      </section>

      <footer class="footer muted">Prototype • Local storage • Ready for Google Sheets integration</footer>
    </main>
  </div>

  <script src="scripts/scripts.js"></script>
</body>
</html>

